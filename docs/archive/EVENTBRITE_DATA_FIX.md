# Eventbrite æ•°æ®æ ¼å¼ä¿®å¤

## é—®é¢˜æè¿°

åœ¨ Eventbrite æŠ“å–çš„æ•°æ®ä¸­å‘ç°äº†ä¸¤ä¸ªæ ¼å¼é—®é¢˜ï¼š

### 1. åœ°å€æ ¼å¼é—®é¢˜
**é—®é¢˜**ï¼šåŸå¸‚åå‰ç¼ºå°‘é€—å·ï¼Œå¯¼è‡´åœ°å€è¿åœ¨ä¸€èµ·ï¼Œå¯è¯»æ€§å·®ã€‚

**ç¤ºä¾‹**ï¼š
- âŒ ä¿®å¤å‰ï¼š`473 Valencia StreetSan Francisco, CA 94103`
- âœ… ä¿®å¤åï¼š`473 Valencia Street, San Francisco, CA 94103`

- âŒ ä¿®å¤å‰ï¼š`Thrive City 1 Warriors Way San Francisco, CA 94158`
- âœ… ä¿®å¤åï¼š`Thrive City 1 Warriors Way, San Francisco, CA 94158`

### 2. Description æ ¼å¼é—®é¢˜
**é—®é¢˜**ï¼šæè¿°å¼€å¤´åŒ…å« "Overview" æ–‡æœ¬ï¼Œåœ¨ç½‘é¡µæ˜¾ç¤ºæ—¶å¯è¯»æ€§å·®ã€‚

**ç¤ºä¾‹**ï¼š
- âŒ ä¿®å¤å‰ï¼š`Overview This is a great event with lots of fun activities...`
- âœ… ä¿®å¤åï¼š`This is a great event with lots of fun activities...`

## ä¿®å¤æ–¹æ¡ˆ

### ä»£ç ä¿®å¤
ä¿®æ”¹äº† `src/scrapers/eventbrite-scraper.js` ä¸­çš„ä¸¤ä¸ªæ–¹æ³•ï¼š

#### 1. `extractFullAddress()` (ç¬¬ 606-648 è¡Œ)
- æ”¹è¿›äº†åœ°å€è§£æçš„æ­£åˆ™è¡¨è¾¾å¼
- åœ¨è¡—é“åœ°å€å’ŒåŸå¸‚ä¹‹é—´è‡ªåŠ¨æ·»åŠ é€—å·
- å¤„ç†å„ç§åœ°å€æ ¼å¼å˜ä½“ï¼ˆåŒ…æ‹¬ç¼©å†™ã€ç‰¹æ®Šå­—ç¬¦ç­‰ï¼‰

#### 2. `extractDetailedDescription()` (ç¬¬ 770-834 è¡Œ)
- æ·»åŠ äº†æ–‡æœ¬æ¸…ç†é€»è¾‘ï¼Œå»æ‰å¼€å¤´çš„ "Overview"ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰
- åœ¨ä¸¤ä¸ªåœ°æ–¹æ·»åŠ äº†æ¸…ç†ï¼š
  - ä¸»è¦é€‰æ‹©å™¨æå–æè¿°æ—¶
  - å¤‡ç”¨æ–¹æ¡ˆï¼ˆä» `<main>` æå–æ®µè½ï¼‰æ—¶

### æ•°æ®åº“æ•°æ®ä¿®å¤
åˆ›å»ºäº† `fix-eventbrite-data.js` è„šæœ¬æ¥ä¿®å¤æ•°æ®åº“ä¸­å·²å­˜åœ¨çš„æ•°æ®ï¼š

**åŠŸèƒ½**ï¼š
- æ‰«ææ•°æ®åº“ä¸­æ‰€æœ‰ Eventbrite æ¥æºçš„äº‹ä»¶
- è‡ªåŠ¨ä¿®å¤åœ°å€æ ¼å¼ï¼ˆæ·»åŠ é€—å·ï¼‰
- è‡ªåŠ¨å»é™¤ description å¼€å¤´çš„ "Overview"
- æ˜¾ç¤ºä¿®å¤å‰åçš„å¯¹æ¯”ç¤ºä¾‹
- æä¾›ç»Ÿè®¡æŠ¥å‘Š

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
npm run fix-eventbrite-data
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```
ğŸ”§ å¼€å§‹ä¿®å¤ Eventbrite æ•°æ®æ ¼å¼...

ğŸ”— å·²è¿æ¥åˆ°æ•°æ®åº“: /path/to/data/events.db

ğŸ“Š æ‰¾åˆ° 150 æ¡ Eventbrite è®°å½•

ğŸ“ åœ°å€ä¿®å¤ç¤ºä¾‹ #1:
   æ—§: 473 Valencia StreetSan Francisco, CA 94103
   æ–°: 473 Valencia Street, San Francisco, CA 94103

ğŸ“ æè¿°ä¿®å¤ç¤ºä¾‹ #1:
   æ—§: Overview This is a great event...
   æ–°: This is a great event...

âœ… ä¿®å¤å®Œæˆï¼

ğŸ“Š ç»Ÿè®¡ï¼š
   æ€»è®°å½•æ•°: 150
   åœ°å€å·²ä¿®å¤: 89
   æè¿°å·²ä¿®å¤: 142
   é”™è¯¯æ•°: 0

âœ¨ æ‰€æœ‰æ“ä½œå·²å®Œæˆï¼
```

## æµ‹è¯•

### æµ‹è¯•è„šæœ¬
åˆ›å»ºäº† `test-address-description-fix.js` ç”¨äºå•å…ƒæµ‹è¯•ï¼š

```bash
node test-address-description-fix.js
```

**æµ‹è¯•è¦†ç›–**ï¼š
- åœ°å€æ ¼å¼ï¼šå¤šç§åœ°å€æ ¼å¼å˜ä½“
- Descriptionï¼šOverview çš„ä¸åŒå¤§å°å†™å½¢å¼
- è¾¹ç•Œæƒ…å†µï¼šå·²ç»æ ¼å¼æ­£ç¡®çš„æ•°æ®

## ä½¿ç”¨æŒ‡å—

### å¯¹äºæ–°æŠ“å–çš„æ•°æ®
æ–°æŠ“å–çš„ Eventbrite æ•°æ®ä¼šè‡ªåŠ¨åº”ç”¨ä¿®å¤ï¼Œæ— éœ€é¢å¤–æ“ä½œã€‚

### å¯¹äºå·²å­˜åœ¨çš„æ•°æ®
è¿è¡Œä¿®å¤è„šæœ¬ï¼š
```bash
npm run fix-eventbrite-data
```

**æ³¨æ„**ï¼š
- è„šæœ¬ä½¿ç”¨äº‹åŠ¡ï¼Œç¡®ä¿æ•°æ®å®‰å…¨
- åªä¿®æ”¹éœ€è¦æ›´æ–°çš„è®°å½•
- ä¼šæ˜¾ç¤ºä¿®å¤å‰åçš„å¯¹æ¯”
- æä¾›è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯

## æŠ€æœ¯ç»†èŠ‚

### åœ°å€æ ¼å¼æ­£åˆ™è¡¨è¾¾å¼
```javascript
// åŒ¹é…æ ¼å¼ï¼š(è¡—é“åœ°å€)(åŸå¸‚), (å·) (é‚®ç¼–)
const match = addressText.match(/^(.*?\d+\s*[^,]*?)([A-Z][a-zA-Z\s]+),\s*([A-Z]{2})\s+(\d{5})$/);
```

**ç‰¹ç‚¹**ï¼š
- è¯†åˆ«è¡—é“åœ°å€ï¼ˆå¿…é¡»åŒ…å«æ•°å­—ï¼‰
- è¯†åˆ«åŸå¸‚åï¼ˆä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼‰
- è¯†åˆ«å·ä»£ç ï¼ˆ2ä¸ªå¤§å†™å­—æ¯ï¼‰
- è¯†åˆ«é‚®ç¼–ï¼ˆ5ä½æ•°å­—ï¼‰
- è‡ªåŠ¨åœ¨è¡—é“åœ°å€å’ŒåŸå¸‚ä¹‹é—´æ’å…¥é€—å·

### Description æ¸…ç†
```javascript
// å»æ‰å¼€å¤´çš„ "Overview"ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰
text = text.replace(/^overview\s*/i, '');
```

**ç‰¹ç‚¹**ï¼š
- ä¸åŒºåˆ†å¤§å°å†™ï¼ˆOverviewã€OVERVIEWã€overview éƒ½ä¼šè¢«å»é™¤ï¼‰
- åªå»é™¤å¼€å¤´çš„ Overview
- ä¿ç•™åé¢çš„ç©ºæ ¼å¤„ç†

## åç»­ç»´æŠ¤

å¦‚æœ Eventbrite ç½‘ç«™ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ï¼š
1. `extractFullAddress()` ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼
2. `extractDetailedDescription()` ä¸­çš„é€‰æ‹©å™¨

å»ºè®®å®šæœŸæ£€æŸ¥æŠ“å–çš„æ•°æ®è´¨é‡ï¼Œç¡®ä¿æ ¼å¼æ­£ç¡®ã€‚

## ç›¸å…³æ–‡ä»¶

- `src/scrapers/eventbrite-scraper.js` - ä¸»è¦çˆ¬è™«ä»£ç 
- `fix-eventbrite-data.js` - æ•°æ®åº“ä¿®å¤è„šæœ¬
- `test-address-description-fix.js` - å•å…ƒæµ‹è¯•
- `package.json` - æ·»åŠ äº† `fix-eventbrite-data` å‘½ä»¤

---

ä¿®å¤å®Œæˆæ—¥æœŸï¼š2025-11-20
